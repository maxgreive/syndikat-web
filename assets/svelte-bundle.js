!function(){"use strict";function t(){}function e(t){return t()}function n(){return Object.create(null)}function r(t){t.forEach(e)}function o(t){return"function"==typeof t}function c(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}let s,l;function i(t,e){return s||(s=document.createElement("a")),s.href=e,t===s.href}function u(e,...n){if(null==e)return t;const r=e.subscribe(...n);return r.unsubscribe?()=>r.unsubscribe():r}function a(t,e,n){t.$$.on_destroy.push(u(e,n))}function d(t){return null==t?"":t}function f(t,e,n){return t.set(n),e}function p(t,e){t.appendChild(e)}function g(t,e,n){t.insertBefore(e,n||null)}function h(t){t.parentNode&&t.parentNode.removeChild(t)}function m(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function v(t){return document.createElement(t)}function w(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function _(t){return document.createTextNode(t)}function b(){return _(" ")}function y(){return _("")}function $(t,e,n,r){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n,r)}function k(t){return function(e){return e.preventDefault(),t.call(this,e)}}function x(t,e,n){null==n?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function S(t,e){e=""+e,t.data!==e&&(t.data=e)}function E(t,e){t.value=null==e?"":e}function N(t,e,n,r){null==n?t.style.removeProperty(e):t.style.setProperty(e,n,r?"important":"")}function q(t,e,n){for(let n=0;n<t.options.length;n+=1){const r=t.options[n];if(r.__value===e)return void(r.selected=!0)}n&&void 0===e||(t.selectedIndex=-1)}function C(t){l=t}function j(t){(function(){if(!l)throw new Error("Function called outside component initialization");return l})().$$.on_mount.push(t)}const A=[],L=[];let O=[];const P=[],I=Promise.resolve();let z=!1;function U(){z||(z=!0,I.then(T))}function D(t){O.push(t)}const H=new Set;let R=0;function T(){if(0!==R)return;const t=l;do{try{for(;R<A.length;){const t=A[R];R++,C(t),B(t.$$)}}catch(t){throw A.length=0,R=0,t}for(C(null),A.length=0,R=0;L.length;)L.pop()();for(let t=0;t<O.length;t+=1){const e=O[t];H.has(e)||(H.add(e),e())}O.length=0}while(A.length);for(;P.length;)P.pop()();z=!1,H.clear(),C(t)}function B(t){if(null!==t.fragment){t.update(),r(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(D)}}const M=new Set;function F(t,e){const n=t.$$;null!==n.fragment&&(!function(t){const e=[],n=[];O.forEach((r=>-1===t.indexOf(r)?e.push(r):n.push(r))),n.forEach((t=>t())),O=e}(n.after_update),r(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function X(c,s,i,u,a,d,f,p=[-1]){const g=l;C(c);const m=c.$$={fragment:null,ctx:[],props:d,update:t,not_equal:a,bound:n(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(s.context||(g?g.$$.context:[])),callbacks:n(),dirty:p,skip_bound:!1,root:s.target||g.$$.root};f&&f(m.root);let v=!1;if(m.ctx=i?i(c,s.props||{},((t,e,...n)=>{const r=n.length?n[0]:e;return m.ctx&&a(m.ctx[t],m.ctx[t]=r)&&(!m.skip_bound&&m.bound[t]&&m.bound[t](r),v&&function(t,e){-1===t.$$.dirty[0]&&(A.push(t),U(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}(c,t)),e})):[],m.update(),v=!0,r(m.before_update),m.fragment=!!u&&u(m.ctx),s.target){if(s.hydrate){const t=function(t){return Array.from(t.childNodes)}(s.target);m.fragment&&m.fragment.l(t),t.forEach(h)}else m.fragment&&m.fragment.c();s.intro&&((w=c.$$.fragment)&&w.i&&(M.delete(w),w.i(_))),function(t,n,c,s){const{fragment:l,after_update:i}=t.$$;l&&l.m(n,c),s||D((()=>{const n=t.$$.on_mount.map(e).filter(o);t.$$.on_destroy?t.$$.on_destroy.push(...n):r(n),t.$$.on_mount=[]})),i.forEach(D)}(c,s.target,s.anchor,s.customElement),T()}var w,_;C(g)}class Y{$destroy(){F(this,1),this.$destroy=t}$on(e,n){if(!o(n))return t;const r=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return r.push(n),()=>{const t=r.indexOf(n);-1!==t&&r.splice(t,1)}}$set(t){var e;this.$$set&&(e=t,0!==Object.keys(e).length)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}const K=[];function V(t,e){return{subscribe:G(t,e).subscribe}}function G(e,n=t){let r;const o=new Set;function s(t){if(c(e,t)&&(e=t,r)){const t=!K.length;for(const t of o)t[1](),K.push(t,e);if(t){for(let t=0;t<K.length;t+=2)K[t][0](K[t+1]);K.length=0}}}return{set:s,update:function(t){s(t(e))},subscribe:function(c,l=t){const i=[c,l];return o.add(i),1===o.size&&(r=n(s)||t),c(e),()=>{o.delete(i),0===o.size&&r&&(r(),r=null)}}}}function J(e,n,c){const s=!Array.isArray(e),l=s?[e]:e,i=n.length<2;return V(c,(e=>{let c=!1;const a=[];let d=0,f=t;const p=()=>{if(d)return;f();const r=n(s?a[0]:a,e);i?e(r):f=o(r)?r:t},g=l.map(((t,e)=>u(t,(t=>{a[e]=t,d&=~(1<<e),c&&p()}),(()=>{d|=1<<e}))));return c=!0,p(),function(){r(g),f(),c=!1}}))}const Q="https://api.syndikat.golf";async function W(t,e){const n=[],r=await fetch(`${Q}/products/${e}/${t}`,{headers:{"Content-Type":"application/json","Access-Control-Allow-Origin":"*"}}),o=await r.json();return n.push(...o),n}function Z(){const t=window.location.href.indexOf("#/");let e=t>-1?window.location.href.substr(t+1):"/";const n=e.indexOf("?");let r="";return n>-1&&(r=e.substr(n+1),e=e.substr(0,n)),{location:e,querystring:r}}const tt=V(null,(function(t){t(Z());const e=()=>{t(Z())};return window.addEventListener("hashchange",e,!1),function(){window.removeEventListener("hashchange",e,!1)}}));J(tt,(t=>t.location));const et=J(tt,(t=>t.querystring));async function nt(t){if(!t||t.length<1||"/"!=t.charAt(0)&&0!==t.indexOf("#/"))throw Error("Invalid parameter location");await(U(),I),history.replaceState({...history.state,__svelte_spa_router_scrollX:window.scrollX,__svelte_spa_router_scrollY:window.scrollY},void 0),window.location.hash=("#"==t.charAt(0)?"":"#")+t}function rt(t,e,n){const r=t.slice();return r[30]=e[n],r}function ot(t,e,n){const r=t.slice();return r[33]=e[n],r}function ct(t,e,n){const r=t.slice();return r[27]=e[n],r}function st(e){let n,o,c;return{c(){n=v("div"),n.innerHTML='<i class="ion ion-md-close"></i>',x(n,"class","search__close svelte-dmwn1g")},m(t,r){g(t,n,r),o||(c=[$(n,"click",e[17]),$(n,"keydown",e[18])],o=!0)},p:t,d(t){t&&h(n),o=!1,r(c)}}}function lt(t){let e,n,r,o,c=t[4].length+"";return{c(){e=v("span"),n=_("("),r=_(c),o=_(")"),x(e,"class","product-count svelte-dmwn1g")},m(t,c){g(t,e,c),p(e,n),p(e,r),p(e,o)},p(t,e){16&e[0]&&c!==(c=t[4].length+"")&&S(r,c)},d(t){t&&h(e)}}}function it(t){let e,n,r;return{c(){e=w("svg"),n=w("circle"),r=w("circle"),x(n,"class","bg svelte-dmwn1g"),x(r,"class","fg svelte-dmwn1g"),x(e,"width","24"),x(e,"height","24"),x(e,"viewBox","0 0 24 24"),x(e,"class","circular-progress svelte-dmwn1g"),N(e,"--progress",t[3])},m(t,o){g(t,e,o),p(e,n),p(e,r)},p(t,n){8&n[0]&&N(e,"--progress",t[3])},d(t){t&&h(e)}}}function ut(t){let e,n,r,o;return{c(){e=v("div"),n=_("loading "),r=_(t[6]),o=_(" …"),x(e,"class","currently-fetching svelte-dmwn1g")},m(t,c){g(t,e,c),p(e,n),p(e,r),p(e,o)},p(t,e){64&e[0]&&S(r,t[6])},d(t){t&&h(e)}}}function at(t){let e,n=t[4],r=[];for(let e=0;e<n.length;e+=1)r[e]=wt(rt(t,n,e));let o=null;return n.length||(o=ft(t)),{c(){for(let t=0;t<r.length;t+=1)r[t].c();e=y(),o&&o.c()},m(t,n){for(let e=0;e<r.length;e+=1)r[e]&&r[e].m(t,n);g(t,e,n),o&&o.m(t,n)},p(t,c){if(59414&c[0]){let s;for(n=t[4],s=0;s<n.length;s+=1){const o=rt(t,n,s);r[s]?r[s].p(o,c):(r[s]=wt(o),r[s].c(),r[s].m(e.parentNode,e))}for(;s<r.length;s+=1)r[s].d(1);r.length=n.length,!n.length&&o?o.p(t,c):n.length?o&&(o.d(1),o=null):(o=ft(t),o.c(),o.m(e.parentNode,e))}},d(t){m(r,t),t&&h(e),o&&o.d(t)}}}function dt(e){let n,r=Array(6),o=[];for(let t=0;t<r.length;t+=1)o[t]=_t(ct(e,r,t));return{c(){for(let t=0;t<o.length;t+=1)o[t].c();n=y()},m(t,e){for(let n=0;n<o.length;n+=1)o[n]&&o[n].m(t,e);g(t,n,e)},p:t,d(t){m(o,t),t&&h(n)}}}function ft(t){let e;function n(t,e){return t[2]||!t[1]?gt:pt}let r=n(t),o=r(t);return{c(){o.c(),e=y()},m(t,n){o.m(t,n),g(t,e,n)},p(t,c){r===(r=n(t))&&o?o.p(t,c):(o.d(1),o=r(t),o&&(o.c(),o.m(e.parentNode,e)))},d(t){o.d(t),t&&h(e)}}}function pt(t){let e,n,r,o,c,s;return{c(){e=v("div"),n=v("p"),r=_("Keine Produkte für "),o=_(t[1]),c=_(" gefunden."),s=b(),x(e,"class","col")},m(t,l){g(t,e,l),p(e,n),p(n,r),p(n,o),p(n,c),p(e,s)},p(t,e){2&e[0]&&S(o,t[1])},d(t){t&&h(e)}}}function gt(e){let n,o,c,s,l,i,u,a,d,f;return{c(){n=v("div"),o=v("p"),c=_('Suche zum Beispiel nach "'),s=v("a"),s.textContent="Harp",l=_('" oder "'),i=v("a"),i.textContent="Destroyer",u=_('".'),a=b(),x(s,"class","search-example svelte-dmwn1g"),x(s,"href",null),x(i,"class","search-example svelte-dmwn1g"),x(i,"href",null),x(n,"class","col")},m(t,r){g(t,n,r),p(n,o),p(o,c),p(o,s),p(o,l),p(o,i),p(o,u),p(n,a),d||(f=[$(s,"click",k(e[22])),$(i,"click",k(e[23]))],d=!0)},p:t,d(t){t&&h(n),d=!1,r(f)}}}function ht(t){let e,n=Object.values(t[30].flightNumbers),r=[];for(let e=0;e<n.length;e+=1)r[e]=vt(ot(t,n,e));return{c(){e=v("ul");for(let t=0;t<r.length;t+=1)r[t].c();x(e,"class","article__flight-numbers svelte-dmwn1g")},m(t,n){g(t,e,n);for(let t=0;t<r.length;t+=1)r[t]&&r[t].m(e,null)},p(t,o){if(16&o[0]){let c;for(n=Object.values(t[30].flightNumbers),c=0;c<n.length;c+=1){const s=ot(t,n,c);r[c]?r[c].p(s,o):(r[c]=vt(s),r[c].c(),r[c].m(e,null))}for(;c<r.length;c+=1)r[c].d(1);r.length=n.length}},d(t){t&&h(e),m(r,t)}}}function mt(t){let e,n,r=parseInt(t[33])+"";return{c(){e=v("li"),n=_(r),x(e,"class","svelte-dmwn1g")},m(t,r){g(t,e,r),p(e,n)},p(t,e){16&e[0]&&r!==(r=parseInt(t[33])+"")&&S(n,r)},d(t){t&&h(e)}}}function vt(t){let e,n=t[33]&&mt(t);return{c(){n&&n.c(),e=y()},m(t,r){n&&n.m(t,r),g(t,e,r)},p(t,r){t[33]?n?n.p(t,r):(n=mt(t),n.c(),n.m(e.parentNode,e)):n&&(n.d(1),n=null)},d(t){n&&n.d(t),t&&h(e)}}}function wt(t){let e,n,c,s,l,u,a,f,m,w,y,k,E,N,q,C,j,A,L,O,P,I,z,U,D,H,R,T,B,M,F,X,Y=t[30].title+"",K=t[11][t[30].stockStatus]+"",V=t[14].format(t[30].price/100)+"",G=t[30].flightNumbers&&ht(t);return{c(){e=v("div"),n=v("div"),c=v("div"),s=v("a"),G&&G.c(),l=b(),u=v("img"),w=b(),y=v("div"),k=v("h2"),E=v("a"),N=_(Y),C=b(),j=v("p"),A=v("span"),L=_(K),P=b(),I=v("strong"),z=_(V),U=b(),D=v("img"),R=b(),T=v("img"),M=b(),i(u.src,a=t[30].image||"/assets/images/image-not-found.jpg")||x(u,"src",a),x(u,"alt",f=t[30].title),x(u,"loading","lazy"),x(u,"width","200"),x(u,"height","200"),x(s,"href",m=t[30].url),x(s,"target","_blank"),x(s,"class","article__image svelte-dmwn1g"),x(c,"class","article__head"),x(E,"href",q=t[30].url),x(E,"target","_blank"),x(E,"class","svelte-dmwn1g"),x(k,"class","article__title svelte-dmwn1g"),x(A,"class",O=d(`inventory status-${t[30].stockStatus}`)+" svelte-dmwn1g"),i(D.src,H=`/assets/images/logos/${t[30].store}-light.png`)||x(D,"src",H),x(D,"class","store-logo hide-dark svelte-dmwn1g"),x(D,"alt","Store Logo"),i(T.src,B=`/assets/images/logos/${t[30].store}-dark.png`)||x(T,"src",B),x(T,"class","store-logo hide-light svelte-dmwn1g"),x(T,"alt","Store Logo"),x(y,"class","article__content"),x(n,"class","article__inner"),x(e,"class","article col col-4 col-d-6 col-t-12")},m(r,i){g(r,e,i),p(e,n),p(n,c),p(c,s),G&&G.m(s,null),p(s,l),p(s,u),p(n,w),p(n,y),p(y,k),p(k,E),p(E,N),p(y,C),p(y,j),p(j,A),p(A,L),p(j,P),p(j,I),p(I,z),p(j,U),p(j,D),p(j,R),p(j,T),p(e,M),F||(X=[$(s,"click",(function(){o(t[15](t[30]))&&t[15](t[30]).apply(this,arguments)})),$(E,"click",(function(){o(t[15](t[30]))&&t[15](t[30]).apply(this,arguments)}))],F=!0)},p(e,n){(t=e)[30].flightNumbers?G?G.p(t,n):(G=ht(t),G.c(),G.m(s,l)):G&&(G.d(1),G=null),16&n[0]&&!i(u.src,a=t[30].image||"/assets/images/image-not-found.jpg")&&x(u,"src",a),16&n[0]&&f!==(f=t[30].title)&&x(u,"alt",f),16&n[0]&&m!==(m=t[30].url)&&x(s,"href",m),16&n[0]&&Y!==(Y=t[30].title+"")&&S(N,Y),16&n[0]&&q!==(q=t[30].url)&&x(E,"href",q),16&n[0]&&K!==(K=t[11][t[30].stockStatus]+"")&&S(L,K),16&n[0]&&O!==(O=d(`inventory status-${t[30].stockStatus}`)+" svelte-dmwn1g")&&x(A,"class",O),16&n[0]&&V!==(V=t[14].format(t[30].price/100)+"")&&S(z,V),16&n[0]&&!i(D.src,H=`/assets/images/logos/${t[30].store}-light.png`)&&x(D,"src",H),16&n[0]&&!i(T.src,B=`/assets/images/logos/${t[30].store}-dark.png`)&&x(T,"src",B)},d(t){t&&h(e),G&&G.d(),F=!1,r(X)}}}function _t(e){let n;return{c(){n=v("div"),n.innerHTML='<div class="skeleton-image svelte-dmwn1g"></div> \n        <div class="skeleton-text svelte-dmwn1g"></div> \n      ',x(n,"class","skeleton col col-4 col-d-6 col-t-12 svelte-dmwn1g")},m(t,e){g(t,n,e)},p:t,d(t){t&&h(n)}}}function bt(e){let n,o,c,s,l,i,u,a,d,f,m,w,y,S,N,C,j,A,L,O,P,I,z=e[1]&&!e[6]&&st(e);function U(t,e){return t[0]<t[9].length?it:t[4].length?lt:void 0}let H=U(e),R=H&&H(e),T=e[6]&&ut(e);function B(t,e){return t[6]&&t[0]<t[9].length&&0===t[4].length?dt:at}let M=B(e),F=M(e);return{c(){n=v("form"),z&&z.c(),o=b(),c=v("label"),c.textContent="Suche nach Produkten",s=b(),l=v("input"),i=b(),u=v("button"),u.textContent="Suchen",a=b(),d=v("div"),f=v("h2"),m=_("Produkte\n    "),R&&R.c(),w=b(),T&&T.c(),y=b(),S=v("select"),N=v("option"),N.textContent="Standard",C=v("option"),C.textContent="Verfügbarkeit",j=v("option"),j.textContent="Preis aufsteigend",A=v("option"),A.textContent="Preis absteigend",L=b(),O=v("div"),F.c(),x(c,"for","js-product-input"),x(c,"class","screen-reader-text"),x(l,"type","text"),x(l,"class","search__text"),x(l,"id","js-product-input"),x(l,"placeholder","Suchen …"),x(u,"type","submit"),x(u,"class","button button--primary"),x(n,"class","search__group svelte-dmwn1g"),x(f,"class","svelte-dmwn1g"),N.__value="default",N.value=N.__value,C.__value="availability",C.value=C.__value,j.__value="price-ascending",j.value=j.__value,A.__value="price-descending",A.value=A.__value,void 0===e[5]&&D((()=>e[21].call(S))),x(d,"class","products-headline svelte-dmwn1g"),x(O,"class","row animate")},m(t,r){g(t,n,r),z&&z.m(n,null),p(n,o),p(n,c),p(n,s),p(n,l),E(l,e[1]),p(n,i),p(n,u),g(t,a,r),g(t,d,r),p(d,f),p(f,m),R&&R.m(f,null),p(d,w),T&&T.m(d,null),p(d,y),p(d,S),p(S,N),p(S,C),p(S,j),p(S,A),q(S,e[5],!0),g(t,L,r),g(t,O,r),F.m(O,null),P||(I=[$(l,"input",e[19]),$(u,"click",k(e[20])),$(S,"change",e[21]),$(S,"change",e[16])],P=!0)},p(t,e){t[1]&&!t[6]?z?z.p(t,e):(z=st(t),z.c(),z.m(n,o)):z&&(z.d(1),z=null),2&e[0]&&l.value!==t[1]&&E(l,t[1]),H===(H=U(t))&&R?R.p(t,e):(R&&R.d(1),R=H&&H(t),R&&(R.c(),R.m(f,null))),t[6]?T?T.p(t,e):(T=ut(t),T.c(),T.m(d,y)):T&&(T.d(1),T=null),32&e[0]&&q(S,t[5]),M===(M=B(t))&&F?F.p(t,e):(F.d(1),F=M(t),F&&(F.c(),F.m(O,null)))},i:t,o:t,d(t){t&&h(n),z&&z.d(),t&&h(a),t&&h(d),R&&R.d(),T&&T.d(),t&&h(L),t&&h(O),F.d(),P=!1,r(I)}}}function yt(t,e,n){const r=[...t].sort(((t,n)=>t[e]<n[e]?1:t[e]>=n[e]?-1:0));return n?r.reverse():r}function $t(t,e,n){let r,o,c,s,l;a(t,et,(t=>n(25,o=t)));const i=G([]);a(t,i,(t=>n(4,c=t)));const u=G("");a(t,u,(t=>n(6,l=t)));let d=[],p=!0;const g=["chooseyourdisc","insidethecircle","discwolf","frisbeeshop","discgolfstore","crosslap","thrownatur","birdieshop","discgolf4you","hyzerstore"];let h=g.length;const m=G(localStorage.sort||"default");a(t,m,(t=>n(5,s=t))),m.subscribe((t=>localStorage.sort=t));let v="";const w=()=>{n(1,v=""),nt("/"),f(i,c=[],c)},_=async()=>{if(!v)return nt("/"),n(2,p=!0),i.set([]);window.plausible=window.plausible||function(){(window.plausible.q=window.plausible.q||[]).push(arguments)},window.plausible("product-search",{props:{query:v}}),d=[],n(2,p=!1),nt(`/?q=${encodeURIComponent(v)}`),i.set([]),n(0,h=0);for(const t of g){u.set(t);const e=await W(v,t);i.update((t=>[...t,...e])),n(0,h++,h),d.push(...e),y()}u.set("")},b=new Intl.NumberFormat("de-DE",{style:"currency",currency:"EUR"}),y=()=>f(i,c="price-descending"===s?yt(c,"price"):"price-ascending"===s?yt(c,"price",!0):"availability"===s?yt(c,"stockStatus",!0):d,c);j((async()=>{document.querySelector("#js-product-input").focus(),n(1,v=new URLSearchParams(o).get("q")||""),await _()}));return t.$$.update=()=>{2&t.$$.dirty[0]&&n(1,v=v.toLowerCase()),1&t.$$.dirty[0]&&n(3,r=parseInt(h/g.length*100))},[h,v,p,r,c,s,l,i,u,g,m,{available:"Auf Lager",unavailable:"Nicht auf Lager",unknown:"Unbekannt"},w,_,b,t=>{window.plausible=window.plausible||function(){(window.plausible.q=window.plausible.q||[]).push(arguments)},window.plausible("product-click",{props:{product:t.title,store:t.store,price:t.price/100,currency:"EUR",url:t.url}})},y,()=>w(),()=>w(),function(){v=this.value,n(1,v)},()=>_(),function(){s=function(t){const e=t.querySelector(":checked");return e&&e.__value}(this),m.set(s)},()=>{n(1,v="Harp"),_()},()=>{n(1,v="Destroyer"),_()}]}class kt extends Y{constructor(t){super(),X(this,t,$t,bt,c,{},null,[-1,-1])}}document.querySelector("#product-search-app")&&new kt({target:document.querySelector("#product-search-app")})}();
//# sourceMappingURL=svelte-bundle.js.map
