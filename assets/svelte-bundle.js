!function(){"use strict";function t(){}function e(t){return t()}function n(){return Object.create(null)}function r(t){t.forEach(e)}function o(t){return"function"==typeof t}function c(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}let s,u;function l(t,e){return s||(s=document.createElement("a")),s.href=e,t===s.href}function i(e,...n){if(null==e)return t;const r=e.subscribe(...n);return r.unsubscribe?()=>r.unsubscribe():r}function a(t,e,n){t.$$.on_destroy.push(i(e,n))}function f(t){return null==t?"":t}function d(t,e,n){return t.set(n),e}function h(t,e){t.appendChild(e)}function p(t,e,n){t.insertBefore(e,n||null)}function g(t){t.parentNode&&t.parentNode.removeChild(t)}function m(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function v(t){return document.createElement(t)}function y(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function _(t){return document.createTextNode(t)}function $(){return _(" ")}function b(){return _("")}function w(t,e,n,r){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n,r)}function x(t){return function(e){return e.preventDefault(),t.call(this,e)}}function k(t,e,n){null==n?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function S(t,e){e=""+e,t.data!==e&&(t.data=e)}function E(t,e){t.value=null==e?"":e}function C(t,e,n,r){null==n?t.style.removeProperty(e):t.style.setProperty(e,n,r?"important":"")}function L(t,e,n){for(let n=0;n<t.options.length;n+=1){const r=t.options[n];if(r.__value===e)return void(r.selected=!0)}n&&void 0===e||(t.selectedIndex=-1)}function A(t){u=t}function N(t){(function(){if(!u)throw new Error("Function called outside component initialization");return u})().$$.on_mount.push(t)}const q=[],O=[];let P=[];const j=[],I=Promise.resolve();let z=!1;function D(){z||(z=!0,I.then(R))}function U(t){P.push(t)}const B=new Set;let H=0;function R(){if(0!==H)return;const t=u;do{try{for(;H<q.length;){const t=q[H];H++,A(t),T(t.$$)}}catch(t){throw q.length=0,H=0,t}for(A(null),q.length=0,H=0;O.length;)O.pop()();for(let t=0;t<P.length;t+=1){const e=P[t];B.has(e)||(B.add(e),e())}P.length=0}while(q.length);for(;j.length;)j.pop()();z=!1,B.clear(),A(t)}function T(t){if(null!==t.fragment){t.update(),r(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(U)}}const F=new Set;function M(t,e){const n=t.$$;null!==n.fragment&&(!function(t){const e=[],n=[];P.forEach((r=>-1===t.indexOf(r)?e.push(r):n.push(r))),n.forEach((t=>t())),P=e}(n.after_update),r(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function W(c,s,l,i,a,f,d,h=[-1]){const p=u;A(c);const m=c.$$={fragment:null,ctx:[],props:f,update:t,not_equal:a,bound:n(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(s.context||(p?p.$$.context:[])),callbacks:n(),dirty:h,skip_bound:!1,root:s.target||p.$$.root};d&&d(m.root);let v=!1;if(m.ctx=l?l(c,s.props||{},((t,e,...n)=>{const r=n.length?n[0]:e;return m.ctx&&a(m.ctx[t],m.ctx[t]=r)&&(!m.skip_bound&&m.bound[t]&&m.bound[t](r),v&&function(t,e){-1===t.$$.dirty[0]&&(q.push(t),D(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}(c,t)),e})):[],m.update(),v=!0,r(m.before_update),m.fragment=!!i&&i(m.ctx),s.target){if(s.hydrate){const t=function(t){return Array.from(t.childNodes)}(s.target);m.fragment&&m.fragment.l(t),t.forEach(g)}else m.fragment&&m.fragment.c();s.intro&&((y=c.$$.fragment)&&y.i&&(F.delete(y),y.i(_))),function(t,n,c,s){const{fragment:u,after_update:l}=t.$$;u&&u.m(n,c),s||U((()=>{const n=t.$$.on_mount.map(e).filter(o);t.$$.on_destroy?t.$$.on_destroy.push(...n):r(n),t.$$.on_mount=[]})),l.forEach(U)}(c,s.target,s.anchor,s.customElement),R()}var y,_;A(p)}class X{$destroy(){M(this,1),this.$destroy=t}$on(e,n){if(!o(n))return t;const r=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return r.push(n),()=>{const t=r.indexOf(n);-1!==t&&r.splice(t,1)}}$set(t){var e;this.$$set&&(e=t,0!==Object.keys(e).length)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}const Y=[];function K(t,e){return{subscribe:V(t,e).subscribe}}function V(e,n=t){let r;const o=new Set;function s(t){if(c(e,t)&&(e=t,r)){const t=!Y.length;for(const t of o)t[1](),Y.push(t,e);if(t){for(let t=0;t<Y.length;t+=2)Y[t][0](Y[t+1]);Y.length=0}}}return{set:s,update:function(t){s(t(e))},subscribe:function(c,u=t){const l=[c,u];return o.add(l),1===o.size&&(r=n(s)||t),c(e),()=>{o.delete(l),0===o.size&&r&&(r(),r=null)}}}}function G(e,n,c){const s=!Array.isArray(e),u=s?[e]:e,l=n.length<2;return K(c,(e=>{let c=!1;const a=[];let f=0,d=t;const h=()=>{if(f)return;d();const r=n(s?a[0]:a,e);l?e(r):d=o(r)?r:t},p=u.map(((t,e)=>i(t,(t=>{a[e]=t,f&=~(1<<e),c&&h()}),(()=>{f|=1<<e}))));return c=!0,h(),function(){r(p),d(),c=!1}}))}const J="https://api.syndikat.golf/products";async function Q(t,e){const n=[],r=await fetch(`${J}/${e}/${t}`,{headers:{"Content-Type":"application/json","Access-Control-Allow-Origin":"*"}}),o=await r.json();return n.push(...o),n}function Z(){const t=window.location.href.indexOf("#/");let e=t>-1?window.location.href.substr(t+1):"/";const n=e.indexOf("?");let r="";return n>-1&&(r=e.substr(n+1),e=e.substr(0,n)),{location:e,querystring:r}}const tt=K(null,(function(t){t(Z());const e=()=>{t(Z())};return window.addEventListener("hashchange",e,!1),function(){window.removeEventListener("hashchange",e,!1)}}));G(tt,(t=>t.location));const et=G(tt,(t=>t.querystring));async function nt(t){if(!t||t.length<1||"/"!=t.charAt(0)&&0!==t.indexOf("#/"))throw Error("Invalid parameter location");await(D(),I),history.replaceState({...history.state,__svelte_spa_router_scrollX:window.scrollX,__svelte_spa_router_scrollY:window.scrollY},void 0),window.location.hash=("#"==t.charAt(0)?"":"#")+t}function rt(t,e,n){const r=t.slice();return r[26]=e[n],r}function ot(t,e,n){const r=t.slice();return r[23]=e[n],r}function ct(t){let e,n,r,o,c=t[4].length+"";return{c(){e=v("span"),n=_("("),r=_(c),o=_(")"),k(e,"class","product-count svelte-5u0yu3")},m(t,c){p(t,e,c),h(e,n),h(e,r),h(e,o)},p(t,e){16&e&&c!==(c=t[4].length+"")&&S(r,c)},d(t){t&&g(e)}}}function st(t){let e,n,r;return{c(){e=y("svg"),n=y("circle"),r=y("circle"),k(n,"class","bg svelte-5u0yu3"),k(r,"class","fg svelte-5u0yu3"),k(e,"width","24"),k(e,"height","24"),k(e,"viewBox","0 0 24 24"),k(e,"class","circular-progress svelte-5u0yu3"),C(e,"--progress",t[3])},m(t,o){p(t,e,o),h(e,n),h(e,r)},p(t,n){8&n&&C(e,"--progress",t[3])},d(t){t&&g(e)}}}function ut(t){let e,n=t[4],r=[];for(let e=0;e<n.length;e+=1)r[e]=dt(rt(t,n,e));let o=null;return n.length||(o=it(t)),{c(){for(let t=0;t<r.length;t+=1)r[t].c();e=b(),o&&o.c()},m(t,n){for(let e=0;e<r.length;e+=1)r[e]&&r[e].m(t,n);p(t,e,n),o&&o.m(t,n)},p(t,c){if(14358&c){let s;for(n=t[4],s=0;s<n.length;s+=1){const o=rt(t,n,s);r[s]?r[s].p(o,c):(r[s]=dt(o),r[s].c(),r[s].m(e.parentNode,e))}for(;s<r.length;s+=1)r[s].d(1);r.length=n.length,!n.length&&o?o.p(t,c):n.length?o&&(o.d(1),o=null):(o=it(t),o.c(),o.m(e.parentNode,e))}},d(t){m(r,t),t&&g(e),o&&o.d(t)}}}function lt(e){let n,r=Array(6),o=[];for(let t=0;t<r.length;t+=1)o[t]=ht(ot(e,r,t));return{c(){for(let t=0;t<o.length;t+=1)o[t].c();n=b()},m(t,e){for(let n=0;n<o.length;n+=1)o[n]&&o[n].m(t,e);p(t,n,e)},p:t,d(t){m(o,t),t&&g(n)}}}function it(t){let e;function n(t,e){return t[2]?ft:at}let r=n(t),o=r(t);return{c(){o.c(),e=b()},m(t,n){o.m(t,n),p(t,e,n)},p(t,c){r===(r=n(t))&&o?o.p(t,c):(o.d(1),o=r(t),o&&(o.c(),o.m(e.parentNode,e)))},d(t){o.d(t),t&&g(e)}}}function at(t){let e,n,r,o,c,s;return{c(){e=v("div"),n=v("p"),r=_("Keine Produkte für "),o=_(t[1]),c=_(" gefunden."),s=$(),k(e,"class","col")},m(t,u){p(t,e,u),h(e,n),h(n,r),h(n,o),h(n,c),h(e,s)},p(t,e){2&e&&S(o,t[1])},d(t){t&&g(e)}}}function ft(e){let n,o,c,s,u,l,i,a,f,d;return{c(){n=v("div"),o=v("p"),c=_("Suche zum Beispiel nach "),s=v("a"),s.textContent='"Westside Harp"',u=_("\n            oder\n            "),l=v("a"),l.textContent='"Innova Destroyer"',i=_("."),a=$(),k(s,"href",null),k(l,"href",null),k(n,"class","col")},m(t,r){p(t,n,r),h(n,o),h(o,c),h(o,s),h(o,u),h(o,l),h(o,i),h(n,a),f||(d=[w(s,"click",x(e[18])),w(l,"click",x(e[19]))],f=!0)},p:t,d(t){t&&g(n),f=!1,r(d)}}}function dt(t){let e,n,r,o,c,s,u,i,a,d,m,y,b,w,x,E,C,L,A,N,q,O,P,j,I,z,D=t[26].title+"",U=t[11][t[26].stockStatus]+"",B=t[13].format(t[26].price/100)+"";return{c(){e=v("div"),n=v("div"),r=v("div"),o=v("a"),c=v("img"),a=$(),d=v("div"),m=v("h2"),y=v("a"),b=_(D),x=$(),E=v("p"),C=v("span"),L=_(U),N=$(),q=v("strong"),O=_(B),P=$(),j=v("img"),z=$(),l(c.src,s=t[26].image||"/assets/images/image-not-found.jpg")||k(c,"src",s),k(c,"alt",u=t[26].title),k(c,"loading","lazy"),k(c,"width","200"),k(c,"height","200"),k(o,"href",i=t[26].url),k(o,"target","_blank"),k(o,"class","article__image svelte-5u0yu3"),k(r,"class","article__head"),k(y,"href",w=t[26].url),k(y,"target","_blank"),k(y,"class","svelte-5u0yu3"),k(m,"class","article__title svelte-5u0yu3"),k(C,"class",A=f(`inventory status-${t[26].stockStatus}`)+" svelte-5u0yu3"),l(j.src,I=t[26].store)||k(j,"src",I),k(j,"class","store-logo svelte-5u0yu3"),k(j,"alt","Store Logo"),k(d,"class","article__content"),k(n,"class","article__inner"),k(e,"class","article col col-4 col-d-6 col-t-12")},m(t,s){p(t,e,s),h(e,n),h(n,r),h(r,o),h(o,c),h(n,a),h(n,d),h(d,m),h(m,y),h(y,b),h(d,x),h(d,E),h(E,C),h(C,L),h(E,N),h(E,q),h(q,O),h(E,P),h(E,j),h(e,z)},p(t,e){16&e&&!l(c.src,s=t[26].image||"/assets/images/image-not-found.jpg")&&k(c,"src",s),16&e&&u!==(u=t[26].title)&&k(c,"alt",u),16&e&&i!==(i=t[26].url)&&k(o,"href",i),16&e&&D!==(D=t[26].title+"")&&S(b,D),16&e&&w!==(w=t[26].url)&&k(y,"href",w),16&e&&U!==(U=t[11][t[26].stockStatus]+"")&&S(L,U),16&e&&A!==(A=f(`inventory status-${t[26].stockStatus}`)+" svelte-5u0yu3")&&k(C,"class",A),16&e&&B!==(B=t[13].format(t[26].price/100)+"")&&S(O,B),16&e&&!l(j.src,I=t[26].store)&&k(j,"src",I)},d(t){t&&g(e)}}}function ht(e){let n;return{c(){n=v("div"),n.innerHTML='<div class="skeleton-image svelte-5u0yu3"></div> \n        <div class="skeleton-text svelte-5u0yu3"></div> \n      ',k(n,"class","skeleton col col-4 col-d-6 col-t-12 svelte-5u0yu3")},m(t,e){p(t,n,e)},p:t,d(t){t&&g(n)}}}function pt(e){let n,o,c,s,u,l,i,a,f,d,m,y,b,S,C,A,N,q;function O(t,e){return t[0]<t[9].length?st:t[4].length?ct:void 0}let P=O(e),j=P&&P(e);function I(t,e){return t[6]&&t[0]<t[9].length&&0===t[4].length?lt:ut}let z=I(e),D=z(e);return{c(){n=v("form"),o=v("input"),c=$(),s=v("button"),s.textContent="Suchen",u=$(),l=v("div"),i=v("h2"),a=_("Produkte\n    "),j&&j.c(),f=$(),d=v("select"),m=v("option"),m.textContent="Standard",y=v("option"),y.textContent="Verfügbarkeit",b=v("option"),b.textContent="Preis aufsteigend",S=v("option"),S.textContent="Preis absteigend",C=$(),A=v("div"),D.c(),k(o,"type","text"),k(o,"class","search__text svelte-5u0yu3"),k(o,"placeholder","Suchen …"),k(s,"type","submit"),k(s,"class","button button--primary"),k(n,"class","search__group svelte-5u0yu3"),k(i,"class","svelte-5u0yu3"),m.__value="default",m.value=m.__value,y.__value="availability",y.value=y.__value,b.__value="price-ascending",b.value=b.__value,S.__value="price-descending",S.value=S.__value,k(d,"class","svelte-5u0yu3"),void 0===e[5]&&U((()=>e[17].call(d))),k(l,"class","products-headline svelte-5u0yu3"),k(A,"class","row animate")},m(t,r){p(t,n,r),h(n,o),E(o,e[1]),h(n,c),h(n,s),p(t,u,r),p(t,l,r),h(l,i),h(i,a),j&&j.m(i,null),h(l,f),h(l,d),h(d,m),h(d,y),h(d,b),h(d,S),L(d,e[5],!0),p(t,C,r),p(t,A,r),D.m(A,null),N||(q=[w(o,"input",e[15]),w(s,"click",x(e[16])),w(d,"change",e[17]),w(d,"change",e[14])],N=!0)},p(t,[e]){2&e&&o.value!==t[1]&&E(o,t[1]),P===(P=O(t))&&j?j.p(t,e):(j&&j.d(1),j=P&&P(t),j&&(j.c(),j.m(i,null))),32&e&&L(d,t[5]),z===(z=I(t))&&D?D.p(t,e):(D.d(1),D=z(t),D&&(D.c(),D.m(A,null)))},i:t,o:t,d(t){t&&g(n),t&&g(u),t&&g(l),j&&j.d(),t&&g(C),t&&g(A),D.d(),N=!1,r(q)}}}function gt(t,e,n){const r=[...t].sort(((t,n)=>t[e]<n[e]?1:t[e]>=n[e]?-1:0));return n?r.reverse():r}function mt(t,e,n){let r,o,c,s,u;a(t,et,(t=>n(21,o=t)));const l=V([]);a(t,l,(t=>n(4,c=t)));const i=V(!1);a(t,i,(t=>n(6,u=t)));let f=[],h=!0;const p=["chooseyourdisc","insidethecircle","frisbeeshop","discgolfstore","crosslap","thrownatur"];let g=p.length;const m=V(localStorage.sort||"default");a(t,m,(t=>n(5,s=t))),m.subscribe((t=>localStorage.sort=t));let v="";const y=async()=>{if(!v)return nt("/"),n(2,h=!0),l.set([]);window.dataLayer=window.dataLayer||[],window.dataLayer.push({event:"product-search",query:v}),f=[],n(2,h=!1),nt(`/?q=${encodeURIComponent(v)}`),i.set(!0),l.set([]),n(0,g=0);for(const t of p){const e=await Q(v,t);l.update((t=>[...t,...e])),n(0,g++,g),f.push(...e),$()}i.set(!1)},_=new Intl.NumberFormat("de-DE",{style:"currency",currency:"EUR"}),$=()=>d(l,c="price-descending"===s?gt(c,"price"):"price-ascending"===s?gt(c,"price",!0):"availability"===s?gt(c,"stockStatus",!0):f,c);N((async()=>{n(1,v=new URLSearchParams(o).get("q")||""),await y()}));return t.$$.update=()=>{2&t.$$.dirty&&n(1,v=v.toLowerCase()),1&t.$$.dirty&&n(3,r=parseInt(g/p.length*100))},[g,v,h,r,c,s,u,l,i,p,m,{available:"Auf Lager",unavailable:"Nicht auf Lager",unknown:"Unbekannt"},y,_,$,function(){v=this.value,n(1,v)},()=>y(),function(){s=function(t){const e=t.querySelector(":checked");return e&&e.__value}(this),m.set(s)},()=>{n(1,v="Westside Harp"),y()},()=>{n(1,v="Innova Destroyer"),y()}]}class vt extends X{constructor(t){super(),W(this,t,mt,pt,c,{})}}document.querySelector("#product-search-app")&&new vt({target:document.querySelector("#product-search-app")})}();
//# sourceMappingURL=svelte-bundle.js.map
