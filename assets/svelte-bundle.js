!function(){"use strict";function t(){}function e(t){return t()}function n(){return Object.create(null)}function o(t){t.forEach(e)}function r(t){return"function"==typeof t}function s(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}let c,l;function i(t,e){return c||(c=document.createElement("a")),c.href=e,t===c.href}function a(e,...n){if(null==e)return t;const o=e.subscribe(...n);return o.unsubscribe?()=>o.unsubscribe():o}function u(t,e,n){t.$$.on_destroy.push(a(e,n))}function f(t){return null==t?"":t}function d(t,e,n){return t.set(n),e}function h(t,e){t.appendChild(e)}function p(t,e,n){t.insertBefore(e,n||null)}function g(t){t.parentNode&&t.parentNode.removeChild(t)}function v(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function m(t){return document.createElement(t)}function w(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function _(t){return document.createTextNode(t)}function $(){return _(" ")}function y(){return _("")}function b(t,e,n,o){return t.addEventListener(e,n,o),()=>t.removeEventListener(e,n,o)}function k(t){return function(e){return e.preventDefault(),t.call(this,e)}}function x(t,e,n){null==n?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function S(t,e){e=""+e,t.data!==e&&(t.data=e)}function E(t,e){t.value=null==e?"":e}function L(t,e,n,o){null==n?t.style.removeProperty(e):t.style.setProperty(e,n,o?"important":"")}function C(t,e,n){for(let n=0;n<t.options.length;n+=1){const o=t.options[n];if(o.__value===e)return void(o.selected=!0)}n&&void 0===e||(t.selectedIndex=-1)}function A(t){l=t}function N(t){(function(){if(!l)throw new Error("Function called outside component initialization");return l})().$$.on_mount.push(t)}const q=[],O=[];let P=[];const j=[],I=Promise.resolve();let z=!1;function D(){z||(z=!0,I.then(R))}function U(t){P.push(t)}const B=new Set;let H=0;function R(){if(0!==H)return;const t=l;do{try{for(;H<q.length;){const t=q[H];H++,A(t),T(t.$$)}}catch(t){throw q.length=0,H=0,t}for(A(null),q.length=0,H=0;O.length;)O.pop()();for(let t=0;t<P.length;t+=1){const e=P[t];B.has(e)||(B.add(e),e())}P.length=0}while(q.length);for(;j.length;)j.pop()();z=!1,B.clear(),A(t)}function T(t){if(null!==t.fragment){t.update(),o(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(U)}}const F=new Set;function M(t,e){const n=t.$$;null!==n.fragment&&(!function(t){const e=[],n=[];P.forEach((o=>-1===t.indexOf(o)?e.push(o):n.push(o))),n.forEach((t=>t())),P=e}(n.after_update),o(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function W(s,c,i,a,u,f,d,h=[-1]){const p=l;A(s);const v=s.$$={fragment:null,ctx:[],props:f,update:t,not_equal:u,bound:n(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(c.context||(p?p.$$.context:[])),callbacks:n(),dirty:h,skip_bound:!1,root:c.target||p.$$.root};d&&d(v.root);let m=!1;if(v.ctx=i?i(s,c.props||{},((t,e,...n)=>{const o=n.length?n[0]:e;return v.ctx&&u(v.ctx[t],v.ctx[t]=o)&&(!v.skip_bound&&v.bound[t]&&v.bound[t](o),m&&function(t,e){-1===t.$$.dirty[0]&&(q.push(t),D(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}(s,t)),e})):[],v.update(),m=!0,o(v.before_update),v.fragment=!!a&&a(v.ctx),c.target){if(c.hydrate){const t=function(t){return Array.from(t.childNodes)}(c.target);v.fragment&&v.fragment.l(t),t.forEach(g)}else v.fragment&&v.fragment.c();c.intro&&((w=s.$$.fragment)&&w.i&&(F.delete(w),w.i(_))),function(t,n,s,c){const{fragment:l,after_update:i}=t.$$;l&&l.m(n,s),c||U((()=>{const n=t.$$.on_mount.map(e).filter(r);t.$$.on_destroy?t.$$.on_destroy.push(...n):o(n),t.$$.on_mount=[]})),i.forEach(U)}(s,c.target,c.anchor,c.customElement),R()}var w,_;A(p)}class X{$destroy(){M(this,1),this.$destroy=t}$on(e,n){if(!r(n))return t;const o=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return o.push(n),()=>{const t=o.indexOf(n);-1!==t&&o.splice(t,1)}}$set(t){var e;this.$$set&&(e=t,0!==Object.keys(e).length)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}const Y=[];function K(t,e){return{subscribe:V(t,e).subscribe}}function V(e,n=t){let o;const r=new Set;function c(t){if(s(e,t)&&(e=t,o)){const t=!Y.length;for(const t of r)t[1](),Y.push(t,e);if(t){for(let t=0;t<Y.length;t+=2)Y[t][0](Y[t+1]);Y.length=0}}}return{set:c,update:function(t){c(t(e))},subscribe:function(s,l=t){const i=[s,l];return r.add(i),1===r.size&&(o=n(c)||t),s(e),()=>{r.delete(i),0===r.size&&o&&(o(),o=null)}}}}function G(e,n,s){const c=!Array.isArray(e),l=c?[e]:e,i=n.length<2;return K(s,(e=>{let s=!1;const u=[];let f=0,d=t;const h=()=>{if(f)return;d();const o=n(c?u[0]:u,e);i?e(o):d=r(o)?o:t},p=l.map(((t,e)=>a(t,(t=>{u[e]=t,f&=~(1<<e),s&&h()}),(()=>{f|=1<<e}))));return s=!0,h(),function(){o(p),d(),s=!1}}))}const J="https://api.syndikat.golf";async function Q(t,e){const n=[],o=await fetch(`${J}/products/${e}/${t}`,{headers:{"Content-Type":"application/json","Access-Control-Allow-Origin":"*"}}),r=await o.json();return n.push(...r),n}function Z(){const t=window.location.href.indexOf("#/");let e=t>-1?window.location.href.substr(t+1):"/";const n=e.indexOf("?");let o="";return n>-1&&(o=e.substr(n+1),e=e.substr(0,n)),{location:e,querystring:o}}const tt=K(null,(function(t){t(Z());const e=()=>{t(Z())};return window.addEventListener("hashchange",e,!1),function(){window.removeEventListener("hashchange",e,!1)}}));G(tt,(t=>t.location));const et=G(tt,(t=>t.querystring));async function nt(t){if(!t||t.length<1||"/"!=t.charAt(0)&&0!==t.indexOf("#/"))throw Error("Invalid parameter location");await(D(),I),history.replaceState({...history.state,__svelte_spa_router_scrollX:window.scrollX,__svelte_spa_router_scrollY:window.scrollY},void 0),window.location.hash=("#"==t.charAt(0)?"":"#")+t}function ot(t,e,n){const o=t.slice();return o[26]=e[n],o}function rt(t,e,n){const o=t.slice();return o[23]=e[n],o}function st(t){let e,n,o,r,s=t[4].length+"";return{c(){e=m("span"),n=_("("),o=_(s),r=_(")"),x(e,"class","product-count svelte-1v3l4wf")},m(t,s){p(t,e,s),h(e,n),h(e,o),h(e,r)},p(t,e){16&e&&s!==(s=t[4].length+"")&&S(o,s)},d(t){t&&g(e)}}}function ct(t){let e,n,o;return{c(){e=w("svg"),n=w("circle"),o=w("circle"),x(n,"class","bg svelte-1v3l4wf"),x(o,"class","fg svelte-1v3l4wf"),x(e,"width","24"),x(e,"height","24"),x(e,"viewBox","0 0 24 24"),x(e,"class","circular-progress svelte-1v3l4wf"),L(e,"--progress",t[3])},m(t,r){p(t,e,r),h(e,n),h(e,o)},p(t,n){8&n&&L(e,"--progress",t[3])},d(t){t&&g(e)}}}function lt(t){let e,n,o,r;return{c(){e=m("div"),n=_("loading "),o=_(t[6]),r=_(" …"),x(e,"class","currently-fetching svelte-1v3l4wf")},m(t,s){p(t,e,s),h(e,n),h(e,o),h(e,r)},p(t,e){64&e&&S(o,t[6])},d(t){t&&g(e)}}}function it(t){let e,n=t[4],o=[];for(let e=0;e<n.length;e+=1)o[e]=ht(ot(t,n,e));let r=null;return n.length||(r=ut(t)),{c(){for(let t=0;t<o.length;t+=1)o[t].c();e=y(),r&&r.c()},m(t,n){for(let e=0;e<o.length;e+=1)o[e]&&o[e].m(t,n);p(t,e,n),r&&r.m(t,n)},p(t,s){if(14358&s){let c;for(n=t[4],c=0;c<n.length;c+=1){const r=ot(t,n,c);o[c]?o[c].p(r,s):(o[c]=ht(r),o[c].c(),o[c].m(e.parentNode,e))}for(;c<o.length;c+=1)o[c].d(1);o.length=n.length,!n.length&&r?r.p(t,s):n.length?r&&(r.d(1),r=null):(r=ut(t),r.c(),r.m(e.parentNode,e))}},d(t){v(o,t),t&&g(e),r&&r.d(t)}}}function at(e){let n,o=Array(6),r=[];for(let t=0;t<o.length;t+=1)r[t]=pt(rt(e,o,t));return{c(){for(let t=0;t<r.length;t+=1)r[t].c();n=y()},m(t,e){for(let n=0;n<r.length;n+=1)r[n]&&r[n].m(t,e);p(t,n,e)},p:t,d(t){v(r,t),t&&g(n)}}}function ut(t){let e;function n(t,e){return t[2]||!t[1]?dt:ft}let o=n(t),r=o(t);return{c(){r.c(),e=y()},m(t,n){r.m(t,n),p(t,e,n)},p(t,s){o===(o=n(t))&&r?r.p(t,s):(r.d(1),r=o(t),r&&(r.c(),r.m(e.parentNode,e)))},d(t){r.d(t),t&&g(e)}}}function ft(t){let e,n,o,r,s,c;return{c(){e=m("div"),n=m("p"),o=_("Keine Produkte für "),r=_(t[1]),s=_(" gefunden."),c=$(),x(e,"class","col")},m(t,l){p(t,e,l),h(e,n),h(n,o),h(n,r),h(n,s),h(e,c)},p(t,e){2&e&&S(r,t[1])},d(t){t&&g(e)}}}function dt(e){let n,r,s,c,l,i,a,u,f,d;return{c(){n=m("div"),r=m("p"),s=_("Suche zum Beispiel nach "),c=m("a"),c.textContent='"Westside Harp"',l=_("\n            oder\n            "),i=m("a"),i.textContent='"Innova Destroyer"',a=_("."),u=$(),x(c,"href",null),x(i,"href",null),x(n,"class","col")},m(t,o){p(t,n,o),h(n,r),h(r,s),h(r,c),h(r,l),h(r,i),h(r,a),h(n,u),f||(d=[b(c,"click",k(e[18])),b(i,"click",k(e[19]))],f=!0)},p:t,d(t){t&&g(n),f=!1,o(d)}}}function ht(t){let e,n,o,r,s,c,l,a,u,d,v,w,y,b,k,E,L,C,A,N,q,O,P,j,I,z,D,U,B,H=t[26].title+"",R=t[11][t[26].stockStatus]+"",T=t[13].format(t[26].price/100)+"";return{c(){e=m("div"),n=m("div"),o=m("div"),r=m("a"),s=m("img"),u=$(),d=m("div"),v=m("h2"),w=m("a"),y=_(H),k=$(),E=m("p"),L=m("span"),C=_(R),N=$(),q=m("strong"),O=_(T),P=$(),j=m("img"),z=$(),D=m("img"),B=$(),i(s.src,c=t[26].image||"/assets/images/image-not-found.jpg")||x(s,"src",c),x(s,"alt",l=t[26].title),x(s,"loading","lazy"),x(s,"width","200"),x(s,"height","200"),x(r,"href",a=t[26].url),x(r,"target","_blank"),x(r,"class","article__image svelte-1v3l4wf"),x(o,"class","article__head"),x(w,"href",b=t[26].url),x(w,"target","_blank"),x(w,"class","svelte-1v3l4wf"),x(v,"class","article__title svelte-1v3l4wf"),x(L,"class",A=f(`inventory status-${t[26].stockStatus}`)+" svelte-1v3l4wf"),i(j.src,I=`/assets/images/logos/${t[26].store}-light.png`)||x(j,"src",I),x(j,"class","store-logo hide-dark svelte-1v3l4wf"),x(j,"alt","Store Logo"),i(D.src,U=`/assets/images/logos/${t[26].store}-dark.png`)||x(D,"src",U),x(D,"class","store-logo hide-light svelte-1v3l4wf"),x(D,"alt","Store Logo"),x(d,"class","article__content"),x(n,"class","article__inner"),x(e,"class","article col col-4 col-d-6 col-t-12")},m(t,c){p(t,e,c),h(e,n),h(n,o),h(o,r),h(r,s),h(n,u),h(n,d),h(d,v),h(v,w),h(w,y),h(d,k),h(d,E),h(E,L),h(L,C),h(E,N),h(E,q),h(q,O),h(E,P),h(E,j),h(E,z),h(E,D),h(e,B)},p(t,e){16&e&&!i(s.src,c=t[26].image||"/assets/images/image-not-found.jpg")&&x(s,"src",c),16&e&&l!==(l=t[26].title)&&x(s,"alt",l),16&e&&a!==(a=t[26].url)&&x(r,"href",a),16&e&&H!==(H=t[26].title+"")&&S(y,H),16&e&&b!==(b=t[26].url)&&x(w,"href",b),16&e&&R!==(R=t[11][t[26].stockStatus]+"")&&S(C,R),16&e&&A!==(A=f(`inventory status-${t[26].stockStatus}`)+" svelte-1v3l4wf")&&x(L,"class",A),16&e&&T!==(T=t[13].format(t[26].price/100)+"")&&S(O,T),16&e&&!i(j.src,I=`/assets/images/logos/${t[26].store}-light.png`)&&x(j,"src",I),16&e&&!i(D.src,U=`/assets/images/logos/${t[26].store}-dark.png`)&&x(D,"src",U)},d(t){t&&g(e)}}}function pt(e){let n;return{c(){n=m("div"),n.innerHTML='<div class="skeleton-image svelte-1v3l4wf"></div> \n        <div class="skeleton-text svelte-1v3l4wf"></div> \n      ',x(n,"class","skeleton col col-4 col-d-6 col-t-12 svelte-1v3l4wf")},m(t,e){p(t,n,e)},p:t,d(t){t&&g(n)}}}function gt(e){let n,r,s,c,l,i,a,u,f,d,v,w,y,S,L,A,N,q,O;function P(t,e){return t[0]<t[9].length?ct:t[4].length?st:void 0}let j=P(e),I=j&&j(e),z=e[6]&&lt(e);function D(t,e){return t[6]&&t[0]<t[9].length&&0===t[4].length?at:it}let B=D(e),H=B(e);return{c(){n=m("form"),r=m("input"),s=$(),c=m("button"),c.textContent="Suchen",l=$(),i=m("div"),a=m("h2"),u=_("Produkte\n    "),I&&I.c(),f=$(),z&&z.c(),d=$(),v=m("select"),w=m("option"),w.textContent="Standard",y=m("option"),y.textContent="Verfügbarkeit",S=m("option"),S.textContent="Preis aufsteigend",L=m("option"),L.textContent="Preis absteigend",A=$(),N=m("div"),H.c(),x(r,"type","text"),x(r,"class","search__text svelte-1v3l4wf"),x(r,"placeholder","Suchen …"),x(c,"type","submit"),x(c,"class","button button--primary"),x(n,"class","search__group svelte-1v3l4wf"),x(a,"class","svelte-1v3l4wf"),w.__value="default",w.value=w.__value,y.__value="availability",y.value=y.__value,S.__value="price-ascending",S.value=S.__value,L.__value="price-descending",L.value=L.__value,void 0===e[5]&&U((()=>e[17].call(v))),x(i,"class","products-headline svelte-1v3l4wf"),x(N,"class","row animate")},m(t,o){p(t,n,o),h(n,r),E(r,e[1]),h(n,s),h(n,c),p(t,l,o),p(t,i,o),h(i,a),h(a,u),I&&I.m(a,null),h(i,f),z&&z.m(i,null),h(i,d),h(i,v),h(v,w),h(v,y),h(v,S),h(v,L),C(v,e[5],!0),p(t,A,o),p(t,N,o),H.m(N,null),q||(O=[b(r,"input",e[15]),b(c,"click",k(e[16])),b(v,"change",e[17]),b(v,"change",e[14])],q=!0)},p(t,[e]){2&e&&r.value!==t[1]&&E(r,t[1]),j===(j=P(t))&&I?I.p(t,e):(I&&I.d(1),I=j&&j(t),I&&(I.c(),I.m(a,null))),t[6]?z?z.p(t,e):(z=lt(t),z.c(),z.m(i,d)):z&&(z.d(1),z=null),32&e&&C(v,t[5]),B===(B=D(t))&&H?H.p(t,e):(H.d(1),H=B(t),H&&(H.c(),H.m(N,null)))},i:t,o:t,d(t){t&&g(n),t&&g(l),t&&g(i),I&&I.d(),z&&z.d(),t&&g(A),t&&g(N),H.d(),q=!1,o(O)}}}function vt(t,e,n){const o=[...t].sort(((t,n)=>t[e]<n[e]?1:t[e]>=n[e]?-1:0));return n?o.reverse():o}function mt(t,e,n){let o,r,s,c,l;u(t,et,(t=>n(21,r=t)));const i=V([]);u(t,i,(t=>n(4,s=t)));const a=V("");u(t,a,(t=>n(6,l=t)));let f=[],h=!0;const p=["chooseyourdisc","insidethecircle","discwolf","frisbeeshop","discgolfstore","crosslap","thrownatur","birdieshop","discgolf4you"];let g=p.length;const v=V(localStorage.sort||"default");u(t,v,(t=>n(5,c=t))),v.subscribe((t=>localStorage.sort=t));let m="";const w=async()=>{if(!m)return nt("/"),n(2,h=!0),i.set([]);window.dataLayer=window.dataLayer||[],window.dataLayer.push({event:"product-search",query:m}),f=[],n(2,h=!1),nt(`/?q=${encodeURIComponent(m)}`),i.set([]),n(0,g=0);for(const t of p){a.set(t);const e=await Q(m,t);i.update((t=>[...t,...e])),n(0,g++,g),f.push(...e),$()}a.set("")},_=new Intl.NumberFormat("de-DE",{style:"currency",currency:"EUR"}),$=()=>d(i,s="price-descending"===c?vt(s,"price"):"price-ascending"===c?vt(s,"price",!0):"availability"===c?vt(s,"stockStatus",!0):f,s);N((async()=>{n(1,m=new URLSearchParams(r).get("q")||""),await w()}));return t.$$.update=()=>{2&t.$$.dirty&&n(1,m=m.toLowerCase()),1&t.$$.dirty&&n(3,o=parseInt(g/p.length*100))},[g,m,h,o,s,c,l,i,a,p,v,{available:"Auf Lager",unavailable:"Nicht auf Lager",unknown:"Unbekannt"},w,_,$,function(){m=this.value,n(1,m)},()=>w(),function(){c=function(t){const e=t.querySelector(":checked");return e&&e.__value}(this),v.set(c)},()=>{n(1,m="Westside Harp"),w()},()=>{n(1,m="Innova Destroyer"),w()}]}class wt extends X{constructor(t){super(),W(this,t,mt,gt,s,{})}}document.querySelector("#product-search-app")&&new wt({target:document.querySelector("#product-search-app")})}();
//# sourceMappingURL=svelte-bundle.js.map
